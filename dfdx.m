function A = dfdx(X, pars)
    mu = pars.mu;
    ddxx = (mu - 1)/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(3/2) - mu/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(3/2) + (3*mu*(2*mu + 2*X(1) - 2)*(mu + X(1) - 1))/(2*((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2)) - (3*(2*mu + 2*X(1))*(mu + X(1))*(mu - 1))/(2*((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2)) + 1;
    ddxy = (3*mu*X(2)*(mu + X(1) - 1))/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2) - (3*X(2)*(mu + X(1))*(mu - 1))/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2);
    ddxz = (3*mu*X(3)*(mu + X(1) - 1))/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2) - (3*X(3)*(mu + X(1))*(mu - 1))/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2);
    ddxdx = 0;
    ddxdy = 2;
    ddxdz = 0;

    ddyx = (3*mu*X(2)*(2*mu + 2*X(1) - 2))/(2*((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2)) - (3*X(2)*(2*mu + 2*X(1))*(mu - 1))/(2*((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2));
    ddyy = (mu - 1)/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(3/2) - mu/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(3/2) - (3*X(2)^2*(mu - 1))/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2) + (3*mu*X(2)^2)/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2) + 1;
    ddyz = (3*mu*X(2)*X(3))/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2) - (3*X(2)*X(3)*(mu - 1))/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2);
    ddydx = -2;
    ddydy = 0;
    ddydz = 0;

    ddzx = (3*mu*X(3)*(2*mu + 2*X(1) - 2))/(2*((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2)) - (3*X(3)*(2*mu + 2*X(1))*(mu - 1))/(2*((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2));
    ddzy = (3*mu*X(2)*X(3))/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2) - (3*X(2)*X(3)*(mu - 1))/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2);
    ddzz = (mu - 1)/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(3/2) - mu/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(3/2) - (3*X(3)^2*(mu - 1))/((mu + X(1))^2 + X(2)^2 + X(3)^2)^(5/2) + (3*mu*X(3)^2)/((mu + X(1) - 1)^2 + X(2)^2 + X(3)^2)^(5/2);
    ddzdx = 0;
    ddzdy = 0;
    ddzdz = 0;
   
    A = [0,0,0,1,0,0; 
        0,0,0,0,1,0;
        0,0,0,0,0,1;
        ddxx, ddxy, ddxz, ddxdx, ddxdy, ddxdz;
        ddyx, ddyy, ddyz, ddydx, ddydy, ddydz;
        ddzx, ddzy, ddzz, ddzdx, ddzdy, ddzdz
    ]; 
end